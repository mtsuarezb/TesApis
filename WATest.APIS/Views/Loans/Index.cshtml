@model IEnumerable<WATest.Entities.Prestamo>

@{
    ViewBag.Title = "Index";
    //Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Index</h2>
@using (Html.BeginForm())
{
    <table class="table">
        @*<tr>
                <th>

                </th>
                <th>

                </th>
            </tr>*@
        <tr>
            <td>
                <label>Estudiantes</label>
                @Html.DropDownList("IdEstudiantes", null, htmlAttributes: new { @class = "form-control" })

            </td>
            <td>
                <label>Libros</label>
                @Html.DropDownList("IdLibros", null, htmlAttributes: new { @class = "form-control" })

            </td>
            <td>
                <label>Fecha Prestamo Desde</label>
                <input class="form-control text-box single-line" data-val="true" id="fdesde" name="fdesde" type="date" value="">
            </td>
            <td>
                <label>Fecha Prestamo Hasta</label>
                <input class="form-control text-box single-line" data-val="true" id="fhasta" name="fhasta" type="date" value="">
            </td>
            <td>
                <label>Fecha Devolución</label>
                <input class="form-control text-box single-line" data-val="true" id="fDevolucion" name="fDevolucion" type="date" value="">
            </td>
        </tr>
    </table>
    <div class="form-group">
        <input type="submit" value="Buscar" class="btn btn-default" />
    </div>
}

<p>
    @Html.ActionLink("Crear nuevo", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Estudiante.CI)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Libro.Titulo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.FechaPrestamo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.FechaDevolucion)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Devuelvo)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Estudiante.Nombre)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Libro.Titulo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.FechaPrestamo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.FechaDevolucion)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Devuelvo)
            </td>
            <td>
                @Html.ActionLink("Editar", "Edit", new { idLector = item.IdLector, idLibro = item.IdLibro, fechaPrestamo = item.FechaPrestamo.ToString("yyyy-dd-MM") }) |
                @Html.ActionLink("Detalle", "Details", new { idLector = item.IdLector, idLibro = item.IdLibro, fechaPrestamo = item.FechaPrestamo.ToString("yyyy-dd-MM") }) |
                @Html.ActionLink("Eliminar", "Delete", new { idLector = item.IdLector, idLibro = item.IdLibro, fechaPrestamo = item.FechaPrestamo.ToString("yyyy-dd-MM") })
            </td>
        </tr>
    }

</table>
